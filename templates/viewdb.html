<!DOCTYPE html>
<html lang="en">

<head>

    <title>Python Flask Bucket List App - Signup</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link href="https://unpkg.com/tabulator-tables@5.4.4/dist/css/tabulator.min.css" rel="stylesheet">
    <link href="../static/signup.css" rel="stylesheet" />

</head>

<body>
    <div>

    </div>
    <div>
        <H1>GOT BACK FROM DB:</H1>
        <a class="btn btn-lg btn-primary btn-block mt-3" href="{{url_for('logout')}}">Logout</a>
        <div id="example-table"></div>
    </div>



    <footer class="footer">

        <p>&copy; Devusol 2022</p>

    </footer>
    <div id="msg_data">
        <!-- {{msg|tojson}} -->
    </div>
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.4.4/dist/js/tabulator.min.js"></script>
    <script>
        let msg_data = {{ msg| tojson}}
        // let colNames = []
        // let cols = Object.keys(msg_data[0]).forEach((columnName) => {
        //     colNames.push({ title: columnName, field: columnName })
        // })
        // console.log(msg_data[0])
        // console.log(colNames)


        //create Tabulator on DOM element with id "example-table"
        var table = new Tabulator("#example-table", {
            height: 205, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
            data: msg_data, //assign data to table
            layout: "fitColumns", //fit columns to width of table (optional)
            autoColumns: true
            // columns: colNames,
            // columns: [ //Define Table Columns
            //     { title: "Name", field: "firstname", width: 150 },
            //     { title: "Age", field: "age", hozAlign: "left", formatter: "progress" },
            //     { title: "Favourite Color", field: "col" },
            //     { title: "Date Of Birth", field: "dob", sorter: "date", hozAlign: "center" },
            // ],
        });

        //trigger an alert message when the row is clicked
        table.on("rowClick", function (e, row) {
            alert("Row " + row.getData().id + " Clicked!!!!");
        });
    </script>

</body>

</html>